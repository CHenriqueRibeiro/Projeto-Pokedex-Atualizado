<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <title>Pokedex</title>
</head>

<body>
    <div class="pokedex">
        <div id="leds">
            <div class="led red"></div>
            <div class="led yellow"></div>
            <div class="led green"></div>
        </div>
        <div class="display powerOff">
            <div class="listPokemons">

            </div>
        </div>
        <div class="displayDir">

        </div>

        <button class="btnReset"></button>
        <button class="btnPower"></button>
        <button class="btnDir cim "></button>
        <button class="btnDir bai"></button>
        <button class="btnDir esq"></button>
        <button class="btnDir dir"></button>
    </div>
    <script>
        function ligarDisplay(display, ledRed) {
            display.removeAttribute("class");
            display.setAttribute("class", "display powerOn")
            ledRed.removeAttribute("class");
            ledRed.setAttribute("class", "led red ledRedOn")
        }
        function desligarDisplay(display, ledRed) {
            display.removeAttribute("class");
            display.setAttribute("class", "display powerOff")
            ledRed.removeAttribute("class");
            ledRed.setAttribute("class", "led red")
        }

        function piscaVerde(ledGreen) {
            ledGreen.removeAttribute("class");
            ledGreen.setAttribute("class", "led green ledGreenOn")
            setTimeout(() => {
                ledGreen.removeAttribute("class");
                ledGreen.setAttribute("class", "led green")
            }, 100);
        }

        window.onload = function () {
            let listaPokemon = []
            let btnPower = document.querySelector('.btnPower')
            let display = document.querySelector('.display')
            let btnDir = document.querySelector('.dir')
            let btnEsq = document.querySelector('.esq')
            let btnCim = document.querySelector('.cim')
            let btnBai = document.querySelector('.bai')
            let btnReset = document.querySelector('.btnReset')
            let listaDePokemons = document.querySelector('.listPokemons')
            let ledRed = document.querySelector('.red')
            let ledGreen = document.querySelector('.green')




            btnPower.onclick = function () {
                let displayClass = display.getAttribute("class")
                let displayState = displayClass.split(' ')[1]
                piscaVerde(ledGreen);

                if (displayState == "powerOff") {
                    ligarDisplay(display, ledRed)
                } else {
                    desligarDisplay(display, ledRed)
                }
            }

            for (let i = 1; i <= 706; i++) {
                listaPokemon.push(`pokemons/poke_${i}.gif`)
            }

            let pokemons = listaPokemon.map(link => {
                return `<div class="pokeWrapper"><img src="${link}"></div>`

            });

            listaDePokemons.innerHTML = pokemons.join('')
            let positionValue = 0;


            btnEsq.onclick = function () {
                piscaVerde(ledGreen);
                if (positionValue == 0) {
                    positionValue = -261220
                }

                if (positionValue < 0) {
                    positionValue = positionValue + 370
                    listaDePokemons.style.left = (positionValue) + 'px'
                }

            }

            btnDir.onclick = function () {
                piscaVerde(ledGreen);

                if (positionValue == -260850) {
                    positionValue = 370
                }

                if (positionValue > -261220) {
                    positionValue = positionValue - 370
                    listaDePokemons.style.left = (positionValue) + 'px'
                }
            }

            btnReset.onclick = function () {
                piscaVerde(ledGreen);
                listaDePokemons.style.left = "0px"
            }
        }
    </script>



</body>

</html>